import './style.css'
import * as dat from 'dat.gui'
import * as THREE from 'three'
import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js'
import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js'
import { DRACOLoader } from 'three/examples/jsm/loaders/DRACOLoader.js'
import {Reflector} from 'three/examples/jsm/objects/Reflector'
import {UnrealBloomPass} from "three/examples/jsm/postprocessing/UnrealBloomPass.js"
import {EffectComposer} from 'three/examples/jsm/postprocessing/EffectComposer.js'
import {RenderPass} from 'three/examples/jsm/postprocessing/RenderPass.js'
import { SMAAPass} from 'three/examples/jsm/postprocessing/SMAAPass.js'
import firefliesVertexShader from './shaders/fireflies/vertex.glsl'
import firefliesFragmentShader from './shaders/fireflies/fragment.glsl'
import firefliesVertexShader1 from './shaders/fireflies/vertex1.glsl'
import firefliesFragmentShader1 from './shaders/fireflies/fragment1.glsl'
import { gsap } from 'gsap'
import {FilmPass} from 'three/examples/jsm/postprocessing/FilmPass.js'
import { DoubleSide, Vector2 } from 'three'






var _0x2eec=["\x2E\x6C\x6F\x61\x64\x69\x6E\x67\x2D\x62\x61\x72","\x71\x75\x65\x72\x79\x53\x65\x6C\x65\x63\x74\x6F\x72","\x6D\x61\x74\x65\x72\x69\x61\x6C","\x74\x6F","\x65\x6E\x64\x65\x64","\x61\x64\x64","\x63\x6C\x61\x73\x73\x4C\x69\x73\x74","\x74\x72\x61\x6E\x73\x66\x6F\x72\x6D","\x73\x74\x79\x6C\x65","","\x73\x65\x74\x54\x69\x6D\x65\x6F\x75\x74","\x73\x63\x61\x6C\x65\x58\x28","\x29","\x63\x61\x6E\x76\x61\x73\x2E\x77\x65\x62\x67\x6C","\x4D\x65\x73\x68","\x4D\x65\x73\x68\x53\x74\x61\x6E\x64\x61\x72\x64\x4D\x61\x74\x65\x72\x69\x61\x6C","\x65\x6E\x76\x4D\x61\x70\x49\x6E\x74\x65\x6E\x73\x69\x74\x79","\x6E\x65\x65\x64\x73\x55\x70\x64\x61\x74\x65","\x63\x61\x73\x74\x53\x68\x61\x64\x6F\x77","\x72\x65\x63\x65\x69\x76\x65\x53\x68\x61\x64\x6F\x77","\x74\x72\x61\x76\x65\x72\x73\x65","\x2F\x74\x65\x78\x74\x75\x72\x65\x73\x2F\x65\x6E\x76\x69\x72\x6F\x6E\x6D\x65\x6E\x74\x4D\x61\x70\x73\x2F\x39\x2F\x70\x78\x2E\x70\x6E\x67","\x2F\x74\x65\x78\x74\x75\x72\x65\x73\x2F\x65\x6E\x76\x69\x72\x6F\x6E\x6D\x65\x6E\x74\x4D\x61\x70\x73\x2F\x39\x2F\x6E\x78\x2E\x70\x6E\x67","\x2F\x74\x65\x78\x74\x75\x72\x65\x73\x2F\x65\x6E\x76\x69\x72\x6F\x6E\x6D\x65\x6E\x74\x4D\x61\x70\x73\x2F\x39\x2F\x70\x79\x2E\x70\x6E\x67","\x2F\x74\x65\x78\x74\x75\x72\x65\x73\x2F\x65\x6E\x76\x69\x72\x6F\x6E\x6D\x65\x6E\x74\x4D\x61\x70\x73\x2F\x39\x2F\x6E\x79\x2E\x70\x6E\x67","\x2F\x74\x65\x78\x74\x75\x72\x65\x73\x2F\x65\x6E\x76\x69\x72\x6F\x6E\x6D\x65\x6E\x74\x4D\x61\x70\x73\x2F\x39\x2F\x70\x7A\x2E\x70\x6E\x67","\x2F\x74\x65\x78\x74\x75\x72\x65\x73\x2F\x65\x6E\x76\x69\x72\x6F\x6E\x6D\x65\x6E\x74\x4D\x61\x70\x73\x2F\x39\x2F\x6E\x7A\x2E\x70\x6E\x67","\x6C\x6F\x61\x64","\x65\x6E\x63\x6F\x64\x69\x6E\x67","\x73\x52\x47\x42\x45\x6E\x63\x6F\x64\x69\x6E\x67","\x65\x6E\x76\x69\x72\x6F\x6E\x6D\x65\x6E\x74","\x66\x6F\x67","\x62\x6C\x61\x63\x6B","\x66\x6C\x6F\x6F\x72\x42\x61\x6B\x65\x64\x2E\x6A\x70\x67","\x72\x6F\x75\x67\x68\x32\x30\x2E\x6A\x70\x67","\x43\x61\x70\x65\x2E\x70\x6E\x67","\x73\x70\x68\x65\x72\x65\x2E\x70\x6E\x67","\x23\x31\x32\x30\x32\x30\x32","\x65\x6D\x69\x73\x73\x69\x76\x65\x4D\x61\x70","\x23\x31\x36\x31\x37\x31\x61","\x66\x6C\x69\x70\x59","\x73\x65\x74","\x6F\x66\x66\x73\x65\x74","\x77\x68\x69\x74\x65","\x23\x64\x36\x64\x36\x64\x36","\x6E\x6F\x72\x6D\x61\x6C\x42\x69\x61\x73","\x73\x68\x61\x64\x6F\x77","\x66\x61\x72","\x63\x61\x6D\x65\x72\x61","\x70\x6F\x73\x69\x74\x69\x6F\x6E","\x72\x6F\x74\x61\x74\x69\x6F\x6E","\x23\x35\x61\x35\x63\x35\x63","\x23\x33\x66\x34\x64\x34\x63","\x72\x65\x64","\x64\x65\x70\x74\x68\x54\x65\x73\x74","\x7A","\x77\x73\x73\x3A\x2F\x2F\x65\x76\x72\x73\x6F\x63\x6B\x65\x74\x2E\x78\x79\x7A\x3A\x34\x34\x33\x2F\x69\x6E\x73\x65\x63\x75\x72\x65\x2F\x77\x73\x2F\x65\x76\x65\x6E\x74\x73\x2F\x63\x6F\x6E\x6E\x65\x63\x74\x3F\x63\x68\x61\x6E\x6E\x65\x6C\x3D\x54\x68\x72\x65\x65\x4A\x53","\x6F\x6E\x6F\x70\x65\x6E","\x43\x6F\x6E\x6E\x65\x63\x74\x69\x6F\x6E\x20\x74\x6F\x20\x73\x65\x72\x76\x65\x72","\x6C\x6F\x67","\x6F\x6E\x6D\x65\x73\x73\x61\x67\x65","\x64\x61\x74\x61","\x70\x61\x72\x73\x65","\x73\x63\x61\x6C\x65","\x75\x43\x6F\x6C\x6F\x72","\x75\x6E\x69\x66\x6F\x72\x6D\x73","\x6F\x6E\x63\x6C\x6F\x73\x65","\x77\x61\x73\x43\x6C\x65\x61\x6E","\x63\x6C\x6F\x73\x65\x64\x20\x63\x6C\x65\x61\x6E","\x63\x6C\x6F\x73\x65\x64","\x6F\x6E\x65\x72\x72\x6F\x72","\x6D\x65\x73\x73\x61\x67\x65","\x66\x6C\x6F\x6F\x72\x2E\x67\x6C\x62","\x73\x63\x65\x6E\x65","\x66\x6C\x6F\x6F\x72","\x67\x65\x74\x4F\x62\x6A\x65\x63\x74\x42\x79\x4E\x61\x6D\x65","\x74\x72\x61\x6E\x73\x70\x61\x72\x65\x6E\x74","\x6F\x70\x61\x63\x69\x74\x79","\x69\x6E\x6E\x65\x72\x57\x69\x64\x74\x68","\x64\x65\x76\x69\x63\x65\x50\x69\x78\x65\x6C\x52\x61\x74\x69\x6F","\x69\x6E\x6E\x65\x72\x48\x65\x69\x67\x68\x74","\x79","\x78","\x64\x65\x67\x54\x6F\x52\x61\x64","\x4D\x61\x74\x68\x55\x74\x69\x6C\x73","\x68\x65\x61\x64","\x6C\x65\x67\x6F\x32\x33\x2E\x67\x6C\x62","\x43\x61\x70\x65","\x4C\x69\x67\x68\x74\x53\x61\x62\x65\x72","\x55\x6E\x69\x71\x75\x65\x49\x44\x5F\x32\x35","\x72\x65\x73\x69\x7A\x65","\x77\x69\x64\x74\x68","\x68\x65\x69\x67\x68\x74","\x61\x73\x70\x65\x63\x74","\x75\x70\x64\x61\x74\x65\x50\x72\x6F\x6A\x65\x63\x74\x69\x6F\x6E\x4D\x61\x74\x72\x69\x78","\x73\x65\x74\x53\x69\x7A\x65","\x6D\x69\x6E","\x73\x65\x74\x50\x69\x78\x65\x6C\x52\x61\x74\x69\x6F","\x76\x61\x6C\x75\x65","\x75\x50\x69\x78\x65\x6C\x52\x61\x74\x69\x6F","\x61\x64\x64\x45\x76\x65\x6E\x74\x4C\x69\x73\x74\x65\x6E\x65\x72","\x74\x6F\x6E\x65\x4D\x61\x70\x70\x69\x6E\x67","\x41\x43\x45\x53\x46\x69\x6C\x6D\x69\x63\x54\x6F\x6E\x65\x4D\x61\x70\x70\x69\x6E\x67","\x74\x6F\x6E\x65\x4D\x61\x70\x70\x69\x6E\x67\x45\x78\x70\x6F\x73\x75\x72\x65","\x67\x65\x74\x4D\x61\x78\x41\x6E\x69\x73\x6F\x74\x72\x6F\x70\x79","\x63\x61\x70\x61\x62\x69\x6C\x69\x74\x69\x65\x73","\x70\x68\x79\x73\x69\x63\x61\x6C\x6C\x79\x43\x6F\x72\x72\x65\x63\x74\x4C\x69\x67\x68\x74\x73","\x6F\x75\x74\x70\x75\x74\x45\x6E\x63\x6F\x64\x69\x6E\x67","\x4C\x69\x6E\x65\x61\x72\x46\x69\x6C\x74\x65\x72","\x52\x47\x42\x41\x46\x6F\x72\x6D\x61\x74","\x61\x64\x64\x50\x61\x73\x73","\x72\x65\x6E\x64\x65\x72\x54\x6F\x53\x63\x72\x65\x65\x6E","\x73\x74\x72\x65\x6E\x67\x74\x68","\x72\x61\x64\x69\x75\x73","\x74\x68\x72\x65\x73\x68\x6F\x6C\x64","\x65\x6E\x61\x62\x6C\x65\x64","\x72\x61\x6E\x64\x6F\x6D","\x73\x65\x74\x41\x74\x74\x72\x69\x62\x75\x74\x65","\x61\x53\x63\x61\x6C\x65","\x41\x64\x64\x69\x74\x69\x76\x65\x42\x6C\x65\x6E\x64\x69\x6E\x67","\x6F\x72\x69\x65\x6E\x74\x61\x74\x69\x6F\x6E\x63\x68\x61\x6E\x67\x65","\x6F\x72\x69\x65\x6E\x74\x61\x74\x69\x6F\x6E","\x70\x6F\x77\x65\x72\x34\x2E\x4F\x75\x74","\x6D\x6F\x75\x73\x65\x6D\x6F\x76\x65","\x70\x72\x65\x76\x65\x6E\x74\x44\x65\x66\x61\x75\x6C\x74","\x63\x6C\x69\x65\x6E\x74\x58","\x63\x6C\x69\x65\x6E\x74\x59","\x75\x6E\x70\x72\x6F\x6A\x65\x63\x74","\x6E\x6F\x72\x6D\x61\x6C\x69\x7A\x65","\x73\x75\x62","\x6D\x75\x6C\x74\x69\x70\x6C\x79\x53\x63\x61\x6C\x61\x72","\x63\x6C\x6F\x6E\x65","\x63\x6F\x70\x79","\x6C\x6F\x6F\x6B\x41\x74","\x74\x6F\x75\x63\x68\x6D\x6F\x76\x65","\x74\x6F\x75\x63\x68\x65\x73","\x70\x6F\x77\x65\x72\x31\x2F\x69\x6E\x4F\x75\x74","\x6F\x6E\x6D\x6F\x75\x73\x65\x6D\x6F\x76\x65","\x64\x6F\x6D\x45\x6C\x65\x6D\x65\x6E\x74","\x67\x65\x74\x45\x6C\x61\x70\x73\x65\x64\x54\x69\x6D\x65","\x75\x54\x69\x6D\x65","\x72\x65\x6E\x64\x65\x72","\x72\x65\x71\x75\x65\x73\x74\x41\x6E\x69\x6D\x61\x74\x69\x6F\x6E\x46\x72\x61\x6D\x65"];var _0xa691=[_0x2eec[0],_0x2eec[1],_0x2eec[2],_0x2eec[3],_0x2eec[4],_0x2eec[5],_0x2eec[6],_0x2eec[7],_0x2eec[8],_0x2eec[9],_0x2eec[10],_0x2eec[11],_0x2eec[12],_0x2eec[13],_0x2eec[14],_0x2eec[15],_0x2eec[16],_0x2eec[17],_0x2eec[18],_0x2eec[19],_0x2eec[20],_0x2eec[21],_0x2eec[22],_0x2eec[23],_0x2eec[24],_0x2eec[25],_0x2eec[26],_0x2eec[27],_0x2eec[28],_0x2eec[29],_0x2eec[30],_0x2eec[31],_0x2eec[32],_0x2eec[33],_0x2eec[34],_0x2eec[35],_0x2eec[36],_0x2eec[37],_0x2eec[38],_0x2eec[39],_0x2eec[40],_0x2eec[41],_0x2eec[42],_0x2eec[43],_0x2eec[44],_0x2eec[45],_0x2eec[46],_0x2eec[47],_0x2eec[48],_0x2eec[49],_0x2eec[50],_0x2eec[51],_0x2eec[52],_0x2eec[53],_0x2eec[54],_0x2eec[55],_0x2eec[56],_0x2eec[57],_0x2eec[58],_0x2eec[59],_0x2eec[60],_0x2eec[61],_0x2eec[62],_0x2eec[63],_0x2eec[64],_0x2eec[65],_0x2eec[66],_0x2eec[67],_0x2eec[68],_0x2eec[69],_0x2eec[70],_0x2eec[71],_0x2eec[72],_0x2eec[73],_0x2eec[74],_0x2eec[75],_0x2eec[76],_0x2eec[77],_0x2eec[78],_0x2eec[79],_0x2eec[80],_0x2eec[81],_0x2eec[82],_0x2eec[83],_0x2eec[84],_0x2eec[85],_0x2eec[86],_0x2eec[87],_0x2eec[88],_0x2eec[89],_0x2eec[90],_0x2eec[91],_0x2eec[92],_0x2eec[93],_0x2eec[94],_0x2eec[95],_0x2eec[96],_0x2eec[97],_0x2eec[98],_0x2eec[99],_0x2eec[100],_0x2eec[101],_0x2eec[102],_0x2eec[103],_0x2eec[104],_0x2eec[105],_0x2eec[106],_0x2eec[107],_0x2eec[108],_0x2eec[109],_0x2eec[110],_0x2eec[111],_0x2eec[112],_0x2eec[113],_0x2eec[114],_0x2eec[115],_0x2eec[116],_0x2eec[117],_0x2eec[118],_0x2eec[119],_0x2eec[120],_0x2eec[121],_0x2eec[122],_0x2eec[123],_0x2eec[124],_0x2eec[125],_0x2eec[126],_0x2eec[127],_0x2eec[128],_0x2eec[129],_0x2eec[130],_0x2eec[131],_0x2eec[132],_0x2eec[133],_0x2eec[134],_0x2eec[135],_0x2eec[136],_0x2eec[137],_0x2eec[138],_0x2eec[139],_0x2eec[140],_0x2eec[141],_0x2eec[142]];const loadingBarElement=document[_0xa691[1]](_0xa691[0]);const loadingManager= new THREE.LoadingManager(()=>{window[_0xa691[10]](()=>{gsap[_0xa691[3]](overlay[_0xa691[2]],{duration:3,opacity:0,delay:1.5});loadingBarElement[_0xa691[6]][_0xa691[5]](_0xa691[4]);loadingBarElement[_0xa691[8]][_0xa691[7]]= _0xa691[9]},500)},(_0xf5d1x4,_0xf5d1x5,_0xf5d1x6)=>{const _0xf5d1x7=_0xf5d1x5/ _0xf5d1x6;loadingBarElement[_0xa691[8]][_0xa691[7]]= `${_0x2eec[9]}${_0xa691[11]}${_0x2eec[9]}${_0xf5d1x7}${_0x2eec[9]}${_0xa691[12]}${_0x2eec[9]}`});const debugObject={};const canvas=document[_0xa691[1]](_0xa691[13]);const scene= new THREE.Scene();const textureLoader= new THREE.TextureLoader(loadingManager);const cubeTextureLoader= new THREE.CubeTextureLoader(loadingManager);const gltfLoader= new GLTFLoader(loadingManager);const updateAllMaterials=()=>{scene[_0xa691[20]]((_0xf5d1xf)=>{if(_0xf5d1xf instanceof  THREE[_0xa691[14]]&& _0xf5d1xf[_0xa691[2]] instanceof  THREE[_0xa691[15]]){_0xf5d1xf[_0xa691[2]][_0xa691[16]]= debugObject[_0xa691[16]];_0xf5d1xf[_0xa691[2]][_0xa691[17]]= true;_0xf5d1xf[_0xa691[18]]= true;_0xf5d1xf[_0xa691[19]]= true}})};const environmentMap=cubeTextureLoader[_0xa691[27]]([_0xa691[21],_0xa691[22],_0xa691[23],_0xa691[24],_0xa691[25],_0xa691[26]]);environmentMap[_0xa691[28]]= THREE[_0xa691[29]];scene[_0xa691[30]]= environmentMap;scene[_0xa691[31]]=  new THREE.Fog(_0xa691[32],15/ 3,20/ 3);debugObject[_0xa691[16]]= 0.012;const floorBaked=textureLoader[_0xa691[27]](_0xa691[33]);const rough=textureLoader[_0xa691[27]](_0xa691[34]);const cap=textureLoader[_0xa691[27]](_0xa691[35]);const sphereText=textureLoader[_0xa691[27]](_0xa691[36]);const LightSaberMat= new THREE.MeshPhysicalMaterial({color:_0xa691[37],emissive: new THREE.Color(1,0,0),emissiveIntensity:0.2,side:DoubleSide});LightSaberMat[_0xa691[38]];const capeMat= new THREE.MeshStandardMaterial({map:cap,bumpMap:cap,bumpScale:30,color:_0xa691[39]});cap[_0xa691[40]]= false;cap[_0xa691[28]]= THREE[_0xa691[29]];const floorbaked1= new THREE.MeshStandardMaterial({map:floorBaked,roughnessMap:rough,roughness:5- 2});floorBaked[_0xa691[42]][_0xa691[41]](-0.0803,-0.0803);floorBaked[_0xa691[40]]= false;floorBaked[_0xa691[28]]= THREE[_0xa691[29]];const light= new THREE.AmbientLight(_0xa691[43],0.2);scene[_0xa691[5]](light);const directionalLight= new THREE.DirectionalLight(_0xa691[44],0.6);directionalLight[_0xa691[18]]= false;scene[_0xa691[5]](directionalLight);const helper= new THREE.DirectionalLightHelper(directionalLight,0.5);directionalLight[_0xa691[46]][_0xa691[45]]= 0.05;directionalLight[_0xa691[46]][_0xa691[48]][_0xa691[47]]= 15;directionalLight[_0xa691[49]][_0xa691[41]](-5.208,0.6499,2.8628);directionalLight[_0xa691[50]][_0xa691[41]](4.6852,0,0);const directionalLight2= new THREE.DirectionalLight(_0xa691[51],0.5);directionalLight[_0xa691[18]]= false;directionalLight2[_0xa691[49]][_0xa691[41]](-1.9536,0.9102,-0.5217);scene[_0xa691[5]](directionalLight2);const helper2= new THREE.DirectionalLightHelper(directionalLight2,1);const directionalLight3= new THREE.DirectionalLight(_0xa691[51],0.06);directionalLight3[_0xa691[18]]= false;directionalLight3[_0xa691[49]][_0xa691[41]](4.5551,1.5611,-2.6045);scene[_0xa691[5]](directionalLight3);const helper3= new THREE.DirectionalLightHelper(directionalLight3,1);const directionalLight4= new THREE.DirectionalLight(_0xa691[51],0.5);directionalLight4[_0xa691[18]]= false;directionalLight4[_0xa691[49]][_0xa691[41]](-0.6519,3.3835,-5.0778);scene[_0xa691[5]](directionalLight4);const helper4= new THREE.DirectionalLightHelper(directionalLight4,1);const pointLight= new THREE.PointLight(_0xa691[52],0.5);pointLight[_0xa691[49]][_0xa691[41]](-1.3028,1.0404,0.2593);scene[_0xa691[5]](pointLight);const sphereSize=0.1;const pointLightHelper= new THREE.PointLightHelper(pointLight,sphereSize);const pointLight2= new THREE.PointLight(_0xa691[43],0.2);pointLight2[_0xa691[49]][_0xa691[41]](-2.3441,-0.2614,0.5197);scene[_0xa691[5]](pointLight2);const pointLight3= new THREE.PointLight(_0xa691[53],0.2);pointLight3[_0xa691[49]][_0xa691[41]](-0.001,0.9102,0.1292);scene[_0xa691[5]](pointLight3);const pointLightHelper3= new THREE.PointLightHelper(pointLight3,sphereSize);const planeG= new THREE.PlaneBufferGeometry(0.6,0.6,20,20);const planeM= new THREE.MeshStandardMaterial({map:sphereText,color:_0xa691[43],side:DoubleSide,transparent:true,opacity:0.6});const plane= new THREE.Mesh(planeG,planeM);planeM[_0xa691[54]]= false;scene[_0xa691[5]](plane);const overlayGeometry= new THREE.PlaneBufferGeometry(5,5,1,1);const overlayMaterial= new THREE.MeshBasicMaterial({color:_0xa691[32],opacity:1,transparent:true});const overlay= new THREE.Mesh(overlayGeometry,overlayMaterial);overlay[_0xa691[49]][_0xa691[55]]= 3;scene[_0xa691[5]](overlay);let socket= new WebSocket(_0xa691[56]);socket[_0xa691[57]]= function(_0xf5d1x2e){console[_0xa691[59]](_0xa691[58])};socket[_0xa691[60]]= function(_0xf5d1x2f){let _0xf5d1x30=JSON[_0xa691[62]](_0xf5d1x2f[_0xa691[61]]);let b=Number(_0xf5d1x30[_0xa691[61]][_0xa691[63]]);console[_0xa691[59]](b);gsap[_0xa691[3]](LightSaberMat,{emissiveIntensity:b,duration:3});gsap[_0xa691[3]](firefliesMaterial[_0xa691[65]][_0xa691[64]],{value:b,duration:3});gsap[_0xa691[3]](pointLight3,{intensity:b,duration:3})};socket[_0xa691[66]]= function(_0xf5d1x2f){if(_0xf5d1x2f[_0xa691[67]]){console[_0xa691[59]](_0xa691[68])}else {console[_0xa691[59]](_0xa691[69])}};socket[_0xa691[70]]= function(_0xf5d1x32){console[_0xa691[59]](_0xf5d1x32[_0xa691[71]])};gltfLoader[_0xa691[27]](_0xa691[72],(_0xf5d1x33)=>{_0xf5d1x33[_0xa691[73]][_0xa691[63]][_0xa691[41]](1,1,1);let _0xf5d1x34=_0xf5d1x33[_0xa691[73]][_0xa691[75]](_0xa691[74]);_0xf5d1x34[_0xa691[2]]= floorbaked1;_0xf5d1x34[_0xa691[2]][_0xa691[76]]= true;_0xf5d1x34[_0xa691[2]][_0xa691[77]]= 0.92;scene[_0xa691[5]](_0xf5d1x33[_0xa691[73]]);updateAllMaterials()});let gMGeo= new THREE.PlaneBufferGeometry(50,50,1,1);let groundMirror= new Reflector(gMGeo,{clipBias:0.1,textureWidth:window[_0xa691[78]]* window[_0xa691[79]],textureHeight:window[_0xa691[80]]* window[_0xa691[79]],color:_0xa691[43],recursion:0.001,encoding:THREE[_0xa691[29]]});

















































































































































































































































































































































































































































































































































groundMirror[_0xa691[49]][_0xa691[81]]=  -0.01;groundMirror[_0xa691[50]][_0xa691[82]]= THREE[_0xa691[84]][_0xa691[83]](-90);scene[_0xa691[5]](groundMirror);let models={};let name=_0xa691[85];let name2=_0xa691[73];gltfLoader[_0xa691[27]](_0xa691[86],(_0xf5d1x33)=>{const _0xf5d1x3a=_0xf5d1x33[_0xa691[73]][_0xa691[75]](_0xa691[87]);const _0xf5d1x3b=_0xf5d1x33[_0xa691[73]][_0xa691[75]](_0xa691[88]);_0xf5d1x3b[_0xa691[2]]= LightSaberMat;_0xf5d1x3a[_0xa691[2]]= capeMat;let _0xf5d1x3c=_0xf5d1x33[_0xa691[73]][_0xa691[75]](_0xa691[89]);_0xf5d1x33[_0xa691[73]][_0xa691[63]][_0xa691[41]](1,1,1);if(window[_0xa691[80]]> window[_0xa691[78]]){_0xf5d1x33[_0xa691[73]][_0xa691[49]][_0xa691[82]]=  -1.5};models[name]= _0xf5d1x3c;models[name2]= _0xf5d1x33[_0xa691[73]];scene[_0xa691[5]](_0xf5d1x33[_0xa691[73]]);updateAllMaterials()});const sizes={width:window[_0xa691[78]],height:window[_0xa691[80]]};window[_0xa691[100]](_0xa691[90],()=>{setTimeout(function(){sizes[_0xa691[91]]= window[_0xa691[78]];sizes[_0xa691[92]]= window[_0xa691[80]];camera[_0xa691[93]]= sizes[_0xa691[91]]/ sizes[_0xa691[92]];camera[_0xa691[94]]();renderer[_0xa691[95]](sizes[_0xa691[91]],sizes[_0xa691[92]]);renderer[_0xa691[97]](Math[_0xa691[96]](window[_0xa691[79]],2));firefliesMaterial[_0xa691[65]][_0xa691[99]][_0xa691[98]]= Math[_0xa691[96]](window[_0xa691[79]],2);firefliesMaterial1[_0xa691[65]][_0xa691[99]][_0xa691[98]]= Math[_0xa691[96]](window[_0xa691[79]],2)},200)});const camera= new THREE.PerspectiveCamera(45,sizes[_0xa691[91]]/ sizes[_0xa691[92]],0.1,100);camera[_0xa691[49]][_0xa691[82]]= 0.5197;camera[_0xa691[49]][_0xa691[81]]= 0.78;camera[_0xa691[49]][_0xa691[55]]= 4.299;scene[_0xa691[5]](camera);const renderer= new THREE.WebGLRenderer({canvas:canvas,antialias:true});renderer[_0xa691[101]]= THREE[_0xa691[102]];renderer[_0xa691[103]]= 1.5;renderer[_0xa691[105]][_0xa691[104]]();renderer[_0xa691[106]]= true;renderer[_0xa691[107]]= THREE[_0xa691[29]];renderer[_0xa691[95]](sizes[_0xa691[91]],sizes[_0xa691[92]]);renderer[_0xa691[97]](Math[_0xa691[96]](window[_0xa691[79]],2));let renderTarget= new THREE.WebGLRenderTarget(1920,1080,{minFilter:THREE[_0xa691[108]],magFilter:THREE[_0xa691[108]],format:THREE[_0xa691[109]],encoding:THREE[_0xa691[29]]});if(window[_0xa691[78]]< 500|| window[_0xa691[80]]< 600){renderTarget=  new THREE.WebGLRenderTarget(1200,1200,{minFilter:THREE[_0xa691[108]],magFilter:THREE[_0xa691[108]],format:THREE[_0xa691[109]],encoding:THREE[_0xa691[29]]})}else {renderTarget=  new THREE.WebGLRenderTarget(1920,1080,{minFilter:THREE[_0xa691[108]],magFilter:THREE[_0xa691[108]],format:THREE[_0xa691[109]],encoding:THREE[_0xa691[29]]})};const effectComposer= new EffectComposer(renderer,renderTarget);const renderPass= new RenderPass(scene,camera);effectComposer[_0xa691[110]](renderPass);const filmPass= new FilmPass(0.5,0.025,648,false);filmPass[_0xa691[111]]= true;effectComposer[_0xa691[110]](filmPass);const unrealBloomPass= new UnrealBloomPass();unrealBloomPass[_0xa691[112]]= 1.3;unrealBloomPass[_0xa691[113]]= 1.5;unrealBloomPass[_0xa691[114]]= 0.15;unrealBloomPass[_0xa691[115]]= true;effectComposer[_0xa691[110]](unrealBloomPass);const firefliesGeometry= new THREE.BufferGeometry();const firefliesCount=50;const positionArray= new Float32Array(firefliesCount* 3);const scaleArray= new Float32Array(firefliesCount);for(let i=0;i< firefliesCount;i++){positionArray[i* 3+ 0]= (Math[_0xa691[116]]()- 0.1)* 0.001;positionArray[i* 3+ 1]= Math[_0xa691[116]]()* 0.8;positionArray[i* 3+ 2]= (Math[_0xa691[116]]()- 0.1)* 0.001;scaleArray[i]= Math[_0xa691[116]]()};firefliesGeometry[_0xa691[117]](_0xa691[49], new THREE.BufferAttribute(positionArray,3));firefliesGeometry[_0xa691[117]](_0xa691[118], new THREE.BufferAttribute(scaleArray,1));const firefliesMaterial= new THREE.ShaderMaterial({uniforms:{uTime:{value:0},uPixelRatio:{value:Math[_0xa691[96]](window[_0xa691[79]],2)},uSize:{value:35},uColor:{value:1}},vertexShader:firefliesVertexShader1,fragmentShader:firefliesFragmentShader1,transparent:true,blending:THREE[_0xa691[119]],depthWrite:false});const fireflies= new THREE.Points(firefliesGeometry,firefliesMaterial);scene[_0xa691[5]](fireflies);fireflies[_0xa691[49]][_0xa691[41]](1.3007,0.8089,0.2593);if(window[_0xa691[80]]> window[_0xa691[78]]){fireflies[_0xa691[49]][_0xa691[82]]= 1.3007- 1.5};fireflies[_0xa691[50]][_0xa691[41]](0,0.6499,1.1804);const firefliesGeometry1= new THREE.BufferGeometry();const firefliesCount1=250;const positionArray1= new Float32Array(firefliesCount1* 3);const scaleArray1= new Float32Array(firefliesCount1);for(let i=0;i< firefliesCount1;i++){positionArray1[i* 3+ 0]= (Math[_0xa691[116]]()- 0.5)* 20;positionArray1[i* 3+ 1]= Math[_0xa691[116]]()* 5;positionArray1[i* 3+ 2]= (Math[_0xa691[116]]()- 0.5)* 20;scaleArray1[i]= Math[_0xa691[116]]()};firefliesGeometry1[_0xa691[117]](_0xa691[49], new THREE.BufferAttribute(positionArray1,3));firefliesGeometry1[_0xa691[117]](_0xa691[118], new THREE.BufferAttribute(scaleArray1,1));const firefliesMaterial1= new THREE.ShaderMaterial({uniforms:{uTime:{value:0},uPixelRatio:{value:Math[_0xa691[96]](window[_0xa691[79]],2)},uSize:{value:50}},vertexShader:firefliesVertexShader,fragmentShader:firefliesFragmentShader,transparent:true,blending:THREE[_0xa691[119]],depthWrite:false});const fireflies1= new THREE.Points(firefliesGeometry1,firefliesMaterial1);scene[_0xa691[5]](fireflies1);fireflies1[_0xa691[49]][_0xa691[41]](-0.3915,-0.2614,-10);window[_0xa691[100]](_0xa691[120],function(){if(window[_0xa691[121]]== 0|| window[_0xa691[121]]== 180){gsap[_0xa691[3]](models[_0xa691[73]][_0xa691[49]],{x:-1.5,duration:1,ease:_0xa691[122]});gsap[_0xa691[3]](fireflies[_0xa691[49]],{x:1.3007- 1.5,duration:1,ease:_0xa691[122]})}else {gsap[_0xa691[3]](models[_0xa691[73]][_0xa691[49]],{x:0,duration:1,ease:_0xa691[122]});gsap[_0xa691[3]](fireflies[_0xa691[49]],{x:1.3007,duration:1,ease:_0xa691[122]})}},false);const mouse2= new THREE.Vector2();const mouse3= new THREE.Vector2();document[_0xa691[100]](_0xa691[123],onMouseMove,false);function onMouseMove(_0xf5d1x2f){_0xf5d1x2f[_0xa691[124]]();mouse2[_0xa691[82]]= (_0xf5d1x2f[_0xa691[125]]/ window[_0xa691[78]])* 2- 1;mouse2[_0xa691[81]]= -(_0xf5d1x2f[_0xa691[126]]/ window[_0xa691[80]])* 2 + 1;var _0xf5d1x55= new THREE.Vector3(mouse2[_0xa691[82]],mouse2[_0xa691[81]],0);_0xf5d1x55[_0xa691[127]](camera);var _0xf5d1x56=_0xf5d1x55[_0xa691[129]](camera[_0xa691[49]])[_0xa691[128]]();var _0xf5d1x57=-camera[_0xa691[49]][_0xa691[55]]/ _0xf5d1x56[_0xa691[55]];var _0xf5d1x58=camera[_0xa691[49]][_0xa691[131]]()[_0xa691[5]](_0xf5d1x56[_0xa691[130]](_0xf5d1x57));pointLight[_0xa691[49]][_0xa691[132]]( new THREE.Vector3(_0xf5d1x58[_0xa691[82]],_0xf5d1x58[_0xa691[81]],_0xf5d1x58[_0xa691[55]]+ 0.1));plane[_0xa691[49]][_0xa691[132]]( new THREE.Vector3(_0xf5d1x58[_0xa691[82]],_0xf5d1x58[_0xa691[81]],_0xf5d1x58[_0xa691[55]]+ 0.1));models[_0xa691[85]][_0xa691[133]]( new THREE.Vector3(_0xf5d1x58[_0xa691[82]],-1000,1))}document[_0xa691[100]](_0xa691[134],f,{passive:false});document[_0xa691[100]](_0xa691[134],b,{passive:false});function f(_0xf5d1x2e){_0xf5d1x2e[_0xa691[124]]();let _0xf5d1x5a=(_0xf5d1x2e[_0xa691[135]][0][_0xa691[125]]/ window[_0xa691[78]])* 2- 1;let _0xf5d1x5b=-(_0xf5d1x2e[_0xa691[135]][0][_0xa691[126]]/ window[_0xa691[80]])* 2 + 1;var _0xf5d1x55= new THREE.Vector3(_0xf5d1x5a,_0xf5d1x5b,0);_0xf5d1x55[_0xa691[127]](camera);var _0xf5d1x56=_0xf5d1x55[_0xa691[129]](camera[_0xa691[49]])[_0xa691[128]]();var _0xf5d1x57=-camera[_0xa691[49]][_0xa691[55]]/ _0xf5d1x56[_0xa691[55]];var _0xf5d1x58=camera[_0xa691[49]][_0xa691[131]]()[_0xa691[5]](_0xf5d1x56[_0xa691[130]](_0xf5d1x57));pointLight[_0xa691[49]][_0xa691[132]]( new THREE.Vector3(_0xf5d1x58[_0xa691[82]],_0xf5d1x58[_0xa691[81]],_0xf5d1x58[_0xa691[55]]+ 0.1));plane[_0xa691[49]][_0xa691[132]]( new THREE.Vector3(_0xf5d1x58[_0xa691[82]],_0xf5d1x58[_0xa691[81]],_0xf5d1x58[_0xa691[55]]+ 0.1));models[_0xa691[85]][_0xa691[133]]( new THREE.Vector3(_0xf5d1x58[_0xa691[82]],-1000,_0xf5d1x58[_0xa691[55]]+ 0.1))}function v(_0xf5d1x5d){}function b(_0xf5d1x2e){((_0xf5d1x2e[_0xa691[135]][0][_0xa691[125]]- window[_0xa691[78]]/ 2)* 0.001>  -1.5&& (_0xf5d1x2e[_0xa691[135]][0][_0xa691[125]]- window[_0xa691[78]]/ 2)* 0.001< 1.5)?gsap[_0xa691[3]](camera[_0xa691[49]],{x:-(_0xf5d1x2e[_0xa691[135]][0][_0xa691[125]]- window[_0xa691[78]]/ 2)* 0.001,duration:3,ease:_0xa691[136],overwrite:true}):_0xa691[9];cameraInitY- (_0xf5d1x2e[_0xa691[135]][0][_0xa691[126]]- window[_0xa691[80]]/ 2)* cameraInitYDelta> cameraInitY&& cameraInitY- (_0xf5d1x2e[_0xa691[135]][0][_0xa691[126]]- window[_0xa691[80]]/ 2)* cameraInitYDelta< cameraInitYMax?gsap[_0xa691[3]](cameraTarget[_0xa691[49]],{y:cameraInitY- (_0xf5d1x2e[_0xa691[135]][0][_0xa691[126]]- window[_0xa691[80]]/ 2)* cameraInitYDelta,duration:3,ease:_0xa691[136],overwrite:true}):_0xa691[9]}let cameraTarget= new THREE.Group();cameraTarget[_0xa691[49]][_0xa691[41]](0,1,0);camera[_0xa691[133]](cameraTarget[_0xa691[49]]);let cameraInitY=1.5;let cameraInitYDelta=0.001;let cameraInitYMax=1.5;renderer[_0xa691[138]][_0xa691[137]]= (function(_0xf5d1x2e){((_0xf5d1x2e[_0xa691[125]]- window[_0xa691[78]]/ 2)* 0.001>  -1.5&& (_0xf5d1x2e[_0xa691[125]]- window[_0xa691[78]]/ 2)* 0.001< 1.5)?gsap[_0xa691[3]](camera[_0xa691[49]],{x:-(_0xf5d1x2e[_0xa691[125]]- window[_0xa691[78]]/ 2)* 0.001,duration:3,ease:_0xa691[136],overwrite:true}):_0xa691[9];cameraInitY- (_0xf5d1x2e[_0xa691[126]]- window[_0xa691[80]]/ 2)* cameraInitYDelta> cameraInitY&& cameraInitY- (_0xf5d1x2e[_0xa691[126]]- window[_0xa691[80]]/ 2)* cameraInitYDelta< cameraInitYMax?gsap[_0xa691[3]](cameraTarget[_0xa691[49]],{y:cameraInitY- (_0xf5d1x2e[_0xa691[126]]- window[_0xa691[80]]/ 2)* cameraInitYDelta,duration:3,ease:_0xa691[136],overwrite:true}):_0xa691[9]});const clock= new THREE.Clock();const tick=()=>{const _0xf5d1x64=clock[_0xa691[139]]();firefliesMaterial[_0xa691[65]][_0xa691[140]][_0xa691[98]]= _0xf5d1x64;effectComposer[_0xa691[141]]();camera[_0xa691[133]](cameraTarget[_0xa691[49]]);window[_0xa691[142]](tick)};tick()






























